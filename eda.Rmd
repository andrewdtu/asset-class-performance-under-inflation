---
title: "mileston2"
author: "Andrew Tu"
date: "3/11/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set() 

library(tidyverse)
library(ggplot2)
library(imputeTS)
#interest <- read_csv('https://github.com/andrewdtu/stat479group3/blob/main/stock.csv?raw=true')
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars, fig.height = 30, fig.width = 8}
interest <- read_csv('https://github.com/andrewdtu/stat479group3/blob/main/stock.csv?raw=true')

interest$EFFR[which(interest$EFFR == ".")] <- NA 

interest_2 <-interest%>%
  drop_na()%>%
  mutate(perc_change = ((Close-Open)/Open)*100)%>%
  mutate(EFFR = as.numeric(EFFR))%>%
  group_by(ticker)%>%
  ungroup()



ggplot(interest_2, aes(x=Date,y=Close,color = as.numeric(EFFR)))+
    geom_line(aes(),size = 0.3)+
    facet_grid(ticker~.)

```

```{r effr}
ggplot(interest_2,aes(x=Date,y=EFFR))+
  geom_line(Size = 2)
```

```{r 2 periods}
period_1_start = '2005-01-'
period_1_end = '2007-06-15'
period_2_start = '2017-01-01'
period_2_end = '2020-02-01'

interest_periods <- interest_2%>%
  filter(!ticker %in% c('XOP','XME','GDX'))%>%
  filter(Date == c(period_1_start,period_1_end,period_2_start,period_2_end))

```